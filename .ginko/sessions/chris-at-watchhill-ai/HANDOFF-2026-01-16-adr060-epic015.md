---
timestamp: 1737052800000
model: claude-opus-4-5-20251101
provider: anthropic
branch: main
status: clean
---

# Session Handoff: ADR-060 & EPIC-015 - Graph-Authoritative State

## Session Summary

Investigated why `ginko start` showed stale task status (14% vs actual 86% complete). Root cause analysis led to a significant architectural decision.

## What Was Accomplished

### Investigation
- Traced `ginko start` output showing tasks t02-t06 as "not started"
- Found **three sources of truth** had diverged:
  - `CURRENT-SPRINT.md`: 14% (1/7 complete)
  - Sprint-specific file: 86% (6/7 complete)
  - Graph database: unknown state
- Identified this as a fundamental dual-write architecture problem

### Architectural Decision
Created **ADR-060: Content/State Separation**
- Graph is authoritative for **state** (status, assignments, progress)
- Git is authoritative for **content** (definitions, descriptions)
- Eliminates dual-write sync bugs by design

### Epic Created
Created **EPIC-015: Graph-Authoritative Operational State**
- Sprint 0: API endpoints for status updates (1 week)
- Sprint 1: CLI status commands - `ginko task complete`, etc. (1.5 weeks)
- Sprint 2: Graph-first reading in `ginko start` (1.5 weeks)
- Sprint 3: Migration and cleanup (1.5 weeks)

## Files Changed

```
docs/adr/ADR-060-content-state-separation.md (new)
docs/epics/EPIC-015-graph-authoritative-state.md (new)
```

## Git State

- Branch: main
- Status: clean
- Last commit: `1cdfdfa feat: Add ADR-060 and EPIC-015 for graph-authoritative state`
- Pushed: yes

## Next Session

1. **Begin EPIC-015 Sprint 0** (API Foundation)
   - Add `PATCH /api/v1/task/{id}/status` endpoint
   - Add `PATCH /api/v1/sprint/{id}/status` endpoint
   - Add `PATCH /api/v1/epic/{id}/status` endpoint
   - Add status change event emission

2. **Immediate workaround** (if needed before EPIC-015):
   - Manually sync `CURRENT-SPRINT.md` with sprint-specific file
   - Or update task status in dashboard

## Context Files

- `docs/adr/ADR-060-content-state-separation.md` - The decision
- `docs/epics/EPIC-015-graph-authoritative-state.md` - Implementation plan
- `packages/cli/src/commands/start/start-reflection.ts` - Current sprint loading logic
- `packages/cli/src/lib/sprint-loader.ts` - Sprint file parsing

## Key Insight

The separation of **content** (what things are) from **state** (where things are in their lifecycle) is the cleanest architecture. Content benefits from version control; state benefits from real-time access.
