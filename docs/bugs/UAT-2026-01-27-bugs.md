# UAT Bug Report - 2026-01-27

## Session Context
- **Tester:** chris@ginkoai.com (test account)
- **Test Project:** test-uat-project
- **Graph ID:** gin_1769555069083_c0c0b0
- **Team ID:** 687dc3c4-2981-4c71-a776-a9ce91385090
- **CLI Version:** 2.1.2

## Bugs Found

### BUG-001: Dashboard has no project selector [HIGH] - RESOLVED
**Location:** Dashboard UI (all pages)
**Expected:** User can select which project/team to view
**Actual:** No selector - dashboard doesn't know which project to display
**Impact:** Users with multiple projects can't switch between them
**Fix:** Add project selector dropdown in dashboard header, persist selection
**Resolution:** FIXED - Project selector exists in `dashboard-nav.tsx`
**Verified:** 2026-02-05

### BUG-002: Dashboard not filtering by project graphId [HIGH] - RESOLVED
**Location:** Dashboard API queries (Focus, Roadmap, Graph pages)
**Expected:** Data filtered by selected project's graphId
**Actual:** Shows no data or wrong data
**Impact:** Dashboard is unusable for viewing project data
**Fix:** All dashboard queries must include graphId filter from selected team
**Resolution:** FIXED - All pages use `useUserGraph()` hook for filtering
**Verified:** 2026-02-05

### BUG-003: Insights page data leak [HIGH] - RESOLVED
**Location:** Dashboard Insights page
**Expected:** Shows insights for selected project only
**Actual:** Shows data from Ginko Core Team (different project)
**Impact:** Privacy/data isolation violation
**Fix:** Filter insights by team membership and selected project
**Resolution:** FIXED - Commit 637e087 added member filter
**Verified:** 2026-02-05

### BUG-004: Epic file created in wrong directory [MEDIUM] - NOT A BUG
**Location:** CLI epic creation flow (likely in Claude Code CLAUDE.md instructions)
**Expected:** Epic files go to `docs/epics/EPIC-XXX.md`
**Actual:** Epic files go to `docs/sprints/EPIC-XXX.md`
**Impact:** Incorrect file organization, may confuse graph loading
**Fix:** Update epic creation logic to use correct directory
**Resolution:** NOT A BUG - Template correctly uses `docs/epics/` directory
**Verified:** 2026-02-05

### BUG-005: Duplicate team creation race condition [LOW] - RESOLVED
**Location:** `ginko graph init` â†’ team creation
**Evidence:** Two teams created 1 second apart with same graph_id
**Impact:** Duplicate teams in database
**Fix:** Add idempotency check before team creation (check if team with graph_id exists)
**Resolution:** FIXED - Commit a151b85 added idempotency check
**Verified:** 2026-02-05

## UAT Results Summary

### CLI Flow - PASS
| Step | Result |
|------|--------|
| Reset local environment | PASS |
| Login/authenticate | PASS |
| git init + ginko init | PASS |
| Team creation (new in 2.1.2) | PASS |
| ginko start + planning menu | PASS |
| Epic/Sprint creation | PASS (files created) |
| Graph sync | PASS (data synced) |

### Dashboard - BLOCKED
| Page | Result | Reason |
|------|--------|--------|
| Focus | FAIL | No data - not filtering by project |
| Roadmap | FAIL | No data - not filtering by project |
| Graph | PARTIAL | Shows 1 node, no project context |
| Insights | FAIL | Data leak from wrong project |

## Cleanup for Next Session

Test data to clean up:
```bash
# Graph cleanup (from admin account)
./scripts/cleanup-test-data.sh --graph-id gin_1769555069083_c0c0b0 --execute

# Remove test project locally (on test workstation)
rm -rf ~/test-uat-project
rm -rf ~/.ginko
```

## Resolution Summary (2026-02-05)

All 5 bugs verified and resolved:
- BUG-001: FIXED (project selector exists)
- BUG-002: FIXED (useUserGraph hook)
- BUG-003: FIXED (member filter added)
- BUG-004: NOT A BUG (template correct)
- BUG-005: FIXED (idempotency check)

Verification performed in sprint `adhoc_260205_s02` using `ginko sprint create` AI-mediated flow.
